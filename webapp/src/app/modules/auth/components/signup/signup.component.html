<div class="flex flex-col h-full">
    <div class="flex flex-col m-5 h-full">
        <h1 class="text-3xl font-semibold mb-8 text-slate-700 text-center">Create Your Account</h1>

        <form [formGroup]="signupForm" action="#" method="POST">

            <div class="mb-5">
                <div class="relative">
                    <input maxLength="80" type="text" id="userName" name="userName" placeholder="Username"
                        [ngClass]="signupForm.get('userName')?.invalid && ((signupForm.get('userName')?.dirty || signupForm.get('userName')?.touched)) ? 'focus:ring-red-700 border-red-700' : 'focus:ring-slate-700 border-slate-700'"
                        class="shadow-md w-full rounded-md pl-10 h-9 bg-transparent outline-none text-slate-700 border placeholder-slate-500 focus:ring-inset focus:ring-1 transition-all duration-150 ease-out"
                        formControlName="userName">
                    <div class="absolute top-0 left-0 flex items-center h-full pl-3">
                        <i class="fa-solid text-slate-700 fa-user text-xl"></i>
                    </div>
                </div>

                <div *ngIf="signupForm.get('userName')?.invalid && ((signupForm.get('userName')?.dirty || signupForm.get('userName')?.touched))" class="text-sm text-red-800 text- ml-2 font-medium">
                    <h1 *ngIf="signupForm.get('userName')?.getError('required')">Required Field.!</h1>
                    <h1 *ngIf="signupForm.get('userName')?.getError('maxlength')">Length should not exceed 80 characters.!</h1>
                </div>
            </div>

            <div class="mb-5">
                <div class="relative">
                    <input maxLength="120" type="email" id="email" name="email" placeholder="Email"
                        [ngClass]="signupForm.get('email')?.invalid && ((signupForm.get('email')?.dirty || signupForm.get('email')?.touched)) ? 'focus:ring-red-700 border-red-700' : 'focus:ring-slate-700 border-slate-700'"
                        class="w-full rounded-md pl-10 h-9 bg-transparent outline-none text-slate-700 border placeholder-slate-500 focus:ring-inset focus:ring-1 transition-all duration-150 ease-out"
                        formControlName="email">
                    <div class="absolute top-0 left-0 flex items-center h-full pl-3">
                        <i class="fa-solid text-slate-700 fa-envelope"></i>
                    </div>
                </div>

                <div *ngIf="signupForm.get('email')?.invalid && ((signupForm.get('email')?.dirty || signupForm.get('email')?.touched))" class="text-sm text-red-800 text- ml-2 font-medium">
                    <h1 *ngIf="signupForm.get('email')?.getError('required')">Required Field.!</h1>
                    <h1 *ngIf="signupForm.get('email')?.getError('email')">Please enter a valid format.!</h1>
                    <h1 *ngIf="signupForm.get('email')?.getError('maxlength')">Length should not exceed 120 characters.!</h1>
                    <h1 *ngIf="signupForm.get('email')?.getError('emailRegistredErr')">This email is already registered.!</h1>
                    <h1 *ngIf="signupForm.get('email')?.getError('emailCheckErr')">Email checking failed.!</h1>
                </div>
            </div>

            <div class="mb-5">
                <div class="relative">
                    <input maxlength="120" type="password" id="password" name="password" placeholder="Password"
                        [ngClass]="signupForm.get('password')?.invalid && ((signupForm.get('password')?.dirty || signupForm.get('password')?.touched)) ? 'focus:ring-red-700 border-red-700' : 'focus:ring-slate-700 border-slate-700'"
                        class="w-full rounded-md pl-10 h-9 bg-transparent outline-none text-slate-700 border placeholder-slate-500 focus:ring-inset focus:ring-1 transition-all duration-150 ease-out"
                        formControlName="password">  
                    <div class="absolute top-0 left-0 flex items-center h-full pl-3">
                        <i class="fa-solid text-slate-700 fa-key text-xl"></i>
                    </div>
                </div>

                <div *ngIf="signupForm.get('password')?.invalid && ((signupForm.get('password')?.dirty || signupForm.get('password')?.touched))" class="text-sm text-red-800 text- ml-2 font-medium">
                    <h1 *ngIf="signupForm.get('password')?.getError('required')">Required Field.!</h1>
                    <h1 *ngIf="signupForm.get('password')?.getError('maxlength')">Length should not exceed 120 characters.!</h1>
                    <h1 *ngIf="signupForm.get('password')?.getError('minlength')">Length should be at least 10 characters.!</h1>
                </div>
            </div>

            <div class="mb-5">
                <div class="relative">
                    <input maxlength="120" type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm password"
                        [ngClass]="( signupForm.get('confirmPassword')?.invalid || signupForm.getError('passwordNotMatchErr') ) && ((signupForm.get('confirmPassword')?.dirty || signupForm.get('confirmPassword')?.touched)) ? 'focus:ring-red-700 border-red-700' : 'focus:ring-slate-700 border-slate-700'"
                        class="w-full rounded-md pl-10 h-9 bg-transparent outline-none text-slate-700 border placeholder-slate-500 focus:ring-inset focus:ring-1 transition-all duration-150 ease-out"
                        formControlName="confirmPassword">
                    <div class="absolute top-0 left-0 flex items-center h-full pl-3">
                        <i class="fa-solid text-slate-700 fa-key text-xl"></i>
                    </div>
                </div>
                
                <div *ngIf="(signupForm.get('confirmPassword')?.invalid || signupForm.getError('passwordNotMatchErr')) && ((signupForm.get('confirmPassword')?.dirty || signupForm.get('confirmPassword')?.touched))" class="text-sm text-red-800 text- ml-2 font-medium">
                    <h1 *ngIf="signupForm.get('confirmPassword')?.getError('required')">Required Field.!</h1>
                    <h1 *ngIf="signupForm.getError('passwordNotMatchErr') && !signupForm.get('confirmPassword')?.invalid">Passwords do not match.!</h1>
                </div>
            </div>

            <div>
                <div class="flex items-center justify-between">
                    <button [disabled]="!signupForm.valid" type="submit" (click)="register()"
                        class="w-full bg-slate-800 text-slate-300 px-4 py-2 rounded-md outline-none hover:bg-slate-700 focus:bg-slate-700 active:bg-slate-600 transition-colors duration-75 ease-linear active:scale-[0.99]
                            disabled:pointer-events-none disabled:bg-slate-700 disabled:text-slate-400">
                        Continue
                    </button>
                </div>
            </div>

        </form>

        <div class="flex grow items-end justify-center">
            <h1 class="text-slate-700">Already have an account?
                <a routerLink="/login" class="hover:underline font-semibold outline-none focus:underline">Log in</a>
            </h1>
        </div>

    </div>

</div>
